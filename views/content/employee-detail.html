<div class="breadcrumbs">
    <ul>
        <li>
            <a title="Home">Employee</a>
        </li>
        <li>
            <a ui-sref="employee-list">Employee List</a>
        </li>
    </ul>
</div>

<form role="form" name="formName" ng-submit="saveEmployee(formData)">
    <div class="heading-sec">
        <div class="row">
            <div class="col-md-12 column">
                <div class="heading-profile">
                    <toggle-switch ng-model="formData.status" class="switch-small switch-success pull-right"></toggle-switch>
                    <h2>{{header.name}}</h2>
                </div>
            </div>
        </div>
    </div>
    <!-- Top Bar Chart -->
    <div class="panel-content">
        <div class="row">
            <div class="col-md-12">
                <div class="widget">
                    <div class="form-elements-sec">
                        <div class="widget-title">
                            <h3>Employee</h3>
                        </div>
                        <div class="sec">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Company Name*</label>
                                        <multiple-select name="company" required ng-model="formData.company" filter='{"company":"{{formData.company}}"}' ng-name="name.company" api="searchCompany" ng-create="companySave"></multiple-select>
                                        <div class="error-msg" ng-show="formName.company.$invalid">Please Select Company Name</div>
                                    </div>
                                    <div class="form-group">
                                        <label>First Name*</label>
                                        <input type="text" name="name" class="form-control" ng-model="formData.name" required>
                                        <div class="error-msg" ng-show="formName.name.$invalid && formName.name.$touched">Please Enter First Name</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Department*</label>
                                        <multiple-select name="department" required ng-model="formData.department" filter='{"department":"{{formData.department}}"}' ng-name="name.department" api="searchDepartment" ng-create="departmentSave"></multiple-select>
                                        <div class="error-msg" ng-show="formName.department.$invalid">Please Select Department</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Posted At*</label>
                                        <multiple-select name="postedAt" required ng-model="formData.postedAt" filter='{"postedAt":"{{formData.postedAt}}"}' ng-name="name.postedAt" api="searchPostedAt" ng-create="postedAtSave"></multiple-select>
                                        <div class="error-msg" ng-show="formName.postedAt.$invalid">Please Select Current Posting</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Grade*</label>
                                        <multiple-select name="grade" required ng-model="formData.grade" filter='{"grade":"{{formData.grade}}"}' ng-name="name.grade" api="searchGrade" ng-create="gradeSave"></multiple-select>
                                        <div class="error-msg" ng-show="formName.grade.$invalid">Please Select Grade</div>
                                    </div>
                                    <div class="form-group">
                                        <label>House Color*</label>
                                        <select type="text" name="houseColor" class="form-control" ng-model="formData.houseColor" required ng-options="houseColor for houseColor in houseColors"></select>
                                        <div class="error-msg" ng-show="formName.houseColor.$invalid && formName.houseColor.$touched">Please Select House Color</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Upload Photo</label>
                                        <upload-image ng-model="formData.photo"></upload-image>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Salutation*</label>
                                        <select type="text" name="salutation" class="form-control" ng-model="formData.salutation" required ng-options="salutation for salutation in salutations"></select>
                                        <div class="error-msg" ng-show="formName.salutation.$invalid && formName.salutation.$touched">Please Select Salutation</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Last Name*</label>
                                        <input type="text" name="lastName" class="form-control" ng-model="formData.lastName" required>
                                        <div class="error-msg" ng-show="formName.lastName.$invalid && formName.lastName.$touched">Please Enter Last Name</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Function*</label>
                                        <multiple-select name="function" required ng-model="formData.function" filter='{"function":"{{formData.function}}"}' ng-name="name.function" api="searchFunction" ng-create="functionSave"></multiple-select>
                                        <div class="error-msg" ng-show="formName.company.$invalid">Please Select Function</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Branch*</label>
                                        <multiple-select name="branch" required ng-model="formData.branch" filter='{"branch":"{{formData.branch}}"}' ng-name="name.branch" api="searchBranch" ng-create="branchSave"></multiple-select>
                                        <div class="error-msg" ng-show="formName.branch.$invalid">Please Select Branch</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Access*</label>
                                        <multiple-select name="access" required ng-model="formData.access" filter='{"access":"{{formData.access}}"}' ng-name="name.access" api="searchAccess" ng-create="accessSave"></multiple-select>
                                        <div class="error-msg" ng-show="formName.city.$invalid">Please Select Access</div>
                                    </div>
                                    <div class="form-group">
                                        <label>Employee Code*</label>
                                        <input type="text" name="employeeCode" class="form-control" ng-model="formData.employeeCode" required>
                                        <div class="error-msg" ng-show="formName.employeeCode.$invalid && formName.employeeCode.$touched">Please Enter Employee Code</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="widget">
                    <div class="form-elements-sec">
                        <div class="widget-title">
                            <h3>CTC Details</h3>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label>CTC Amount</label>
                                    <input type="text" name="amount" class="form-control" ng-model="formData.ctc.amount" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>From</label>
                                    <div class="input-group">
                                        <input type="text" name="from" class="form-control" uib-datepicker-popup="{{format}}" ng-model="formData.ctc.from" is-open="popup.from" datepicker-options="dateOptions" readonly/>
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default" ng-click="popup.from = true">
                                                <i class="fa fa-calendar"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>To</label>
                                    <div class="input-group">
                                        <input type="text" name="to" class="form-control" uib-datepicker-popup="{{format}}" ng-model="formData.ctc.to" is-open="popup.to" datepicker-options="dateOptions" readonly/>
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default" ng-click="popup.to = true">
                                                <i class="fa fa-calendar"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="widget">
            <div class="form-elements-sec">
                <div class="widget-title">
                    <h3>NEFT Details</h3>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Bank Name</label>
                            <input type="text" class="form-control" ng-model="formData.bank">
                        </div>
                        <div class="form-group">
                            <label>Account Number</label>
                            <input type="text" class="form-control" ng-model="formData.accountNumber">
                        </div>
                        <div class="form-group">
                            <label>Branch Name</label>
                            <input type="text" class="form-control" ng-model="formData.branchName">
                        </div>

                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Account Name</label>
                            <input type="text" class="form-control" ng-model="formData.accountName">
                        </div>
                        <div class="form-group">
                            <label>NEFT Code</label>
                            <input type="text" class="form-control" ng-model="formData.neftCode">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="widget">
                    <div class="form-elements-sec">
                        <div class="widget-title">
                            <h3>Address</h3>
                        </div>
                        <address-form></address-form>
                    </div>
                </div>
                <div class="widget">
                    <div class="form-elements-sec">
                        <div class="form-group">
                            <div class="form-group">
                                <div class="widget-title">
                                    <h3>Surveyor</h3>
                                </div>
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" ng-model="formData.surveyor.isSurveyor">
                                        Is Surveyor
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>Valid Upto*</label>
                                    <input type="text" name="validUpto" class="form-control" ng-model="formData.surveyor.validUpto" required>
                                    <div class="error-msg" ng-show="formName.validUpto.$invalid && formName.validUpto.$touched">Please Enter Valid Upto</div>
                                </div>
                                <div class="form-group">
                                    <label>License Number*</label>
                                    <input type="text" name="licenseNumber" class="form-control" ng-model="formData.surveyor.licence" required>
                                    <div class="error-msg" ng-show="formName.licenseNumber.$invalid && formName.licenseNumber.$touched">Please Select License Number</div>
                                </div>
                                <div class="form-group">
                                    <label>Upload IIISLA Document Receipt</label>
                                    <upload-image ng-model="formData.surveyor.iiislaDocument" no-view></upload-image>
                                </div>
                                <div class="form-group">
                                    <label>Upload Document*</label>
                                    <upload-image ng-model="formData.surveyor.document" no-view></upload-image>
                                    <div class="error-msg" ng-show="formName.document.$invalid && formName.document.$touched">Please Select Document</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="widget">
                    <div class="form-elements-sec">
                        <div class="widget-title">
                            <h3>Contact Details</h3>
                        </div>
                        <div class="form-group">
                            <label>Office Number</label>
                            <input type="text" class="form-control" ng-model="formData.contact.officeNumber">
                        </div>
                        <div class="form-group">
                            <label>Office Mobile Number</label>
                            <input type="text" class="form-control" ng-model="formData.contact.officeMobile">
                        </div>
                        <div class="form-group">
                            <label>Office Email Id</label>
                            <input type="email" class="form-control" ng-model="formData.contact.officeEmail">
                        </div>
                        <div class="form-group">
                            <label>Home Number</label>
                            <input type="text" class="form-control" ng-model="formData.contact.homeNumber">
                        </div>
                        <div class="form-group">
                            <label>Mobile Number</label>
                            <input type="text" class="form-control" ng-model="formData.contact.mobile">
                        </div>
                        <div class="form-group">
                            <label>Email Id</label>
                            <input type="email" class="form-control" ng-model="formData.contact.email">
                        </div>
                        <div class="form-group">
                            <label>Extension Number</label>
                            <input type="text" class="form-control" ng-model="formData.contact.extension">
                        </div>
                    </div>
                </div>
                <div class="widget">
                    <div class="form-elements-sec">
                        <div class="widget-title">
                            <h3>Other</h3>
                        </div>
                        <div class="form-group">
                            <label>Date of Birth*</label>
                            <div class="input-group">
                                <input type="text" name="birthDate" class="form-control" uib-datepicker-popup="{{format}}" ng-model="formData.birthDate" is-open="popup.birthDate" datepicker-options="dateOptions" readonly/>
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="popup.birthDate = true">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                            </div>
                            <div class="error-msg" ng-show="formName.birthDate.$invalid && formName.birthDate.$touched">Please enter Date of Birth</div>
                        </div>
                        <div class="form-group">
                            <label>Marriage Date</label>
                            <div class="input-group">
                                <input type="text" name="marriageDate" class="form-control" uib-datepicker-popup="{{format}}" ng-model="formData.marriageDate" is-open="popup.marriageDate" datepicker-options="dateOptions" readonly/>
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="popup.marriageDate = true">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Joining Date*</label>
                            <div class="input-group">
                                <input type="text" name="joiningDate" class="form-control" uib-datepicker-popup="{{format}}" ng-model="formData.joiningDate" is-open="popup.joiningDate" datepicker-options="dateOptions" readonly/>
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="popup.joiningDate = true">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                            </div>
                            <div class="error-msg" ng-show="formName.joiningDate.$invalid && formName.joiningDate.$touched">Please enter Date of Birth</div>
                        </div>
                        <div class="form-group">
                            <label>Leaving Date</label>
                            <div class="input-group">
                                <input type="text" name="leavingDate" class="form-control" uib-datepicker-popup="{{format}}" ng-model="formData.leavingDate" is-open="popup.leavingDate" datepicker-options="dateOptions" readonly/>
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="popup.leavingDate = true">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-model="formData.isSBC">
                                Is SBC
                            </label>
                            <span>(service branch cell)</span>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" ng-model="formData.isField">
                                Is Field
                            </label>
                            <span>(on field employee)</span>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="text-center mt20">
            <button class="btn btn-default" type="submit" ng-disabled="formName.$invalid">Save</button>
            <a class="btn btn-default" ui-sref="employee-list">Cancel</a>
        </div>
    </div>
</form>
